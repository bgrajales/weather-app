(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{12:function(e,t,c){},13:function(e,t,c){"use strict";c.r(t);var a=c(1),r=c(6),s=c.n(r),n=c(3),i=c(4),o=c(2),h=function(e,t){e.length>3&&fetch("https://api.weatherapi.com/v1/search.json?key=60d54e3e3aaf464a9be142040210812&q=".concat(e)).then((function(e){return e.json()})).then((function(e){t({type:"SEARCH_INPUT_AUTOCOMPLETE",payload:e})})).catch((function(e){console.log(e)}))},d=function(e,t){fetch("https://api.weatherapi.com/v1/forecast.json?key=".concat("60d54e3e3aaf464a9be142040210812","&q=").concat(e,"&days=7&aqi=no&alerts=no")).then((function(e){return e.json()})).then((function(e){return t({type:"GET_WEATHER",payload:e}),e})).catch((function(e){return console.log(e)}))},j=c(0),l=function(e){for(var t=e.city,c=Object(a.useContext)(p),r=c.state,s=c.dispatch,n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=[],o=new Date,h=o.getHours(),l=0;l<4;l++)i.push(h+l);return Object(a.useEffect)((function(){""!==t&&d(t,s)}),[t,s]),Object(j.jsx)(j.Fragment,{children:r.weather?Object(j.jsxs)("div",{className:"parent",children:[Object(j.jsxs)("div",{className:"div1",children:[Object(j.jsx)("h1",{children:r.weather.location.region}),Object(j.jsx)("h4",{children:r.weather.location.name}),Object(j.jsx)("img",{src:r.weather.current.condition.icon,alt:"weather icon"}),Object(j.jsx)("span",{children:r.weather.current.condition.text}),Object(j.jsxs)("p",{children:[Math.round(r.weather.current.temp_c),"\xb0"]})]}),Object(j.jsxs)("div",{className:"div2",children:[Object(j.jsxs)("div",{className:"infoGrid__todayHeader",children:[Object(j.jsx)("h1",{children:"Today"}),Object(j.jsxs)("h1",{children:[["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][o.getDay()]," ",o.getDate()," - ",o.getHours(),"hs"]})]}),Object(j.jsxs)("div",{className:"infoGrid__hoursForecast",children:[Object(j.jsxs)("div",{children:[Object(j.jsxs)("h3",{children:[i[0],"h"]}),Object(j.jsx)("img",{src:r.weather.forecast.forecastday[0].hour[i[0]].condition.icon,alt:"weather icon"}),Object(j.jsxs)("p",{children:[Math.round(r.weather.forecast.forecastday[0].hour[i[0]].temp_c),"\xb0"]})]}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("h3",{children:[i[1],"h"]}),Object(j.jsx)("img",{src:r.weather.forecast.forecastday[0].hour[i[1]].condition.icon,alt:"weather icon"}),Object(j.jsxs)("p",{children:[Math.round(r.weather.forecast.forecastday[0].hour[i[1]].temp_c),"\xb0"]})]}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("h3",{children:[i[2],"h"]}),Object(j.jsx)("img",{src:r.weather.forecast.forecastday[0].hour[i[2]].condition.icon,alt:"weather icon"}),Object(j.jsxs)("p",{children:[Math.round(r.weather.forecast.forecastday[0].hour[i[2]].temp_c),"\xb0"]})]}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("h3",{children:[i[3],"h"]}),Object(j.jsx)("img",{src:r.weather.forecast.forecastday[0].hour[i[3]].condition.icon,alt:"weather icon"}),Object(j.jsxs)("p",{children:[Math.round(r.weather.forecast.forecastday[0].hour[i[3]].temp_c),"\xb0"]})]})]})]}),Object(j.jsxs)("div",{className:"div3",children:[Object(j.jsxs)("div",{children:[Object(j.jsxs)("h1",{children:["".concat(n[o.getDay()]," "),new Date(r.weather.forecast.forecastday[0].date).getUTCDate()]}),Object(j.jsx)("img",{src:r.weather.forecast.forecastday[0].day.condition.icon,alt:"weather icon"}),Object(j.jsxs)("p",{children:[Math.round(r.weather.forecast.forecastday[0].day.avgtemp_c),"\xb0"]})]}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("h1",{children:["".concat(n[o.getDay()+1]," "),new Date(r.weather.forecast.forecastday[1].date).getUTCDate()]}),Object(j.jsx)("img",{src:r.weather.forecast.forecastday[1].day.condition.icon,alt:"weather icon"}),Object(j.jsxs)("p",{children:[Math.round(r.weather.forecast.forecastday[1].day.avgtemp_c),"\xb0"]})]}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("h1",{children:["".concat(n[o.getDay()+2]," "),new Date(r.weather.forecast.forecastday[2].date).getUTCDate()]}),Object(j.jsx)("img",{src:r.weather.forecast.forecastday[2].day.condition.icon,alt:"weather icon"}),Object(j.jsxs)("p",{children:[Math.round(r.weather.forecast.forecastday[2].day.avgtemp_c),"\xb0"]})]})]})]}):Object(j.jsx)("div",{className:"app__loading",children:Object(j.jsx)("h1",{children:"Type a city in the search input"})})})},b=function(){var e,t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(a.useContext)(f).searchDispatch,c=Object(a.useState)(e),r=Object(n.a)(c,2),s=r[0],d=r[1];return[s,function(e){var c=e.target;d(Object(o.a)(Object(o.a)({},s),{},Object(i.a)({},c.name,c.value))),h(s.city,t)},function(){d(e)}]}({city:""}),c=Object(n.a)(t,2),r=c[0],s=c[1],b=Object(a.useContext)(f).searchState,u=Object(a.useContext)(p).dispatch,O=Object(a.useState)(""),x=Object(n.a)(O,2),y=x[0],v=x[1];return navigator.geolocation.getCurrentPosition((function(t){var c=t.coords,a=c.latitude,r=c.longitude;e=a+" "+r})),Object(a.useEffect)((function(){e&&d(e,u)}),[e,u]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"app__ball1"}),Object(j.jsx)("div",{className:"app__ball2"}),Object(j.jsx)("div",{className:"app__ball3"}),Object(j.jsx)("div",{className:"app__ball4"}),Object(j.jsxs)("header",{children:[Object(j.jsx)("h1",{className:"app__title",children:"Weather App"}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),v(r.city)},children:[Object(j.jsx)("input",{type:"text",placeholder:"City",list:"autocomplete",name:"city",value:r.city,onChange:s,autoComplete:"false"}),Object(j.jsx)("datalist",{id:"autocomplete",children:b.searchMatch&&b.searchMatch.map((function(e){return Object(j.jsx)("option",{value:e.name,children:e.name},e.id)}))}),Object(j.jsx)("button",{type:"submit",children:"Search"})]})]}),Object(j.jsx)(l,{city:y})]})},u=function(e,t){return"SEARCH_INPUT_AUTOCOMPLETE"===t.type?Object(o.a)(Object(o.a)({},e),{},{searchMatch:t.payload}):e},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"GET_WEATHER"===t.type?Object(o.a)(Object(o.a)({},e),{},{weather:t.payload}):e},p=Object(a.createContext)(),f=Object(a.createContext)();var x=function(){var e=Object(a.useReducer)(O,{}),t=Object(n.a)(e,2),c=t[0],r=t[1],s=Object(a.useReducer)(u,{}),i=Object(n.a)(s,2),o=i[0],h=i[1];return Object(j.jsx)(p.Provider,{value:{state:c,dispatch:r},children:Object(j.jsx)(f.Provider,{value:{searchState:o,searchDispatch:h},children:Object(j.jsx)("div",{className:"App",children:Object(j.jsx)(b,{})})})})};c(12);s.a.render(Object(j.jsx)(x,{}),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.b993fee5.chunk.js.map